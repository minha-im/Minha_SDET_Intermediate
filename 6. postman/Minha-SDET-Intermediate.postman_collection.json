{
	"info": {
		"_postman_id": "6ad96940-2bc7-46fc-b41e-3bf5466c5591",
		"name": "Minha-SDET-Intermediate",
		"description": "Comprehensive test collection for ReqRes login API with positive and negative test cases. IMPORTANT: ReqRes now requires an API key. Use free key: reqres-free-v1",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "8827409"
	},
	"item": [
		{
			"name": "Positive Test Cases",
			"item": [
				{
					"name": "TC01 - Valid Login with Email and Password",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.expect(statusCode).to.equal(200);});",
									"",
									"pm.test('Response time is acceptable', function() {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);});",
									"",
									"pm.test('Token is present in response', function() {",
									"    pm.expect(response).to.have.property('token');",
									"    pm.expect(response.token).to.be.a('string');",
									"    pm.expect(response.token).to.not.be.empty;});",
									"",
									"pm.test('Token has valid format', function() {",
									"    pm.expect(response.token.length).to.be.greaterThan(0);});",
									"",
									"pm.test('Content-Type is application/json', function() {",
									"    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');});",
									"",
									"if (response.token) {",
									"    pm.environment.set('authToken', response.token);",
									"    console.log('Token stored: ' + response.token);}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1",
								"description": "Free API key for ReqRes"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"eve.holt@reqres.in\",\n    \"password\": \"cityslicka\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Valid login request with correct email and password. Uses free API key: reqres-free-v1"
					},
					"response": []
				}
			]
		},
		{
			"name": "Negative Test Cases",
			"item": [
				{
					"name": "TC02 - Missing Password Field",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// JavaScript assertions",
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"// Assert status code is 400 Bad Request",
									"pm.test('Status code is 400 for missing password', function() {",
									"    pm.expect(statusCode).to.equal(400);",
									"});",
									"",
									"// Assert error message is present",
									"pm.test('Error message is present', function() {",
									"    pm.expect(response).to.have.property('error');",
									"    pm.expect(response.error).to.be.a('string');",
									"});",
									"",
									"// Assert specific error message (flexible)",
									"pm.test('Error message indicates missing password', function() {",
									"    pm.expect(response.error).to.include('password');",
									"});",
									"",
									"// Assert token is not present",
									"pm.test('Token is not present in error response', function() {",
									"    pm.expect(response).to.not.have.property('token');",
									"});",
									"",
									"// Assert response time",
									"pm.test('Response time is acceptable', function() {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"console.log('❌ Error Response:', JSON.stringify(response));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"eve.holt@reqres.in\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login request without password field"
					},
					"response": []
				},
				{
					"name": "TC03 - Missing Email Field",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// JavaScript assertions",
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"// Assert status code is 400",
									"pm.test('Status code is 400 for missing email', function() {",
									"    pm.expect(statusCode).to.equal(400);",
									"});",
									"",
									"// Assert error is present",
									"pm.test('Error property exists', function() {",
									"    pm.expect(response).to.have.property('error');",
									"});",
									"",
									"// Assert error message content (flexible)",
									"pm.test('Error message indicates missing field', function() {",
									"    var errorMsg = response.error.toLowerCase();",
									"    var hasEmailError = errorMsg.includes('email') || errorMsg.includes('username');",
									"    pm.expect(hasEmailError).to.be.true;",
									"});",
									"",
									"// Verify no token in response",
									"pm.test('No token in error response', function() {",
									"    pm.expect(response).to.not.have.property('token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"password\": \"cityslicka\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login request without email field"
					},
					"response": []
				},
				{
					"name": "TC04 - Empty Request Body",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"pm.test('Status code is 400 for empty body', function() {",
									"    pm.expect(statusCode).to.equal(400);",
									"});",
									"",
									"pm.test('Error message is returned', function() {",
									"    pm.expect(response).to.have.property('error');",
									"    pm.expect(response.error).to.not.be.empty;",
									"});",
									"",
									"pm.test('Content-Type header is correct', function() {",
									"    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login request with empty JSON body"
					},
					"response": []
				},
				{
					"name": "TC05 - Invalid Email Format",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"pm.test('Status code indicates error (400)', function() {",
									"    pm.expect(statusCode).to.equal(400);",
									"});",
									"",
									"pm.test('Error message exists', function() {",
									"    pm.expect(response).to.have.property('error');",
									"});",
									"",
									"pm.test('No token returned for invalid email', function() {",
									"    pm.expect(response).to.not.have.property('token');",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"invalid-email-format\",\n    \"password\": \"cityslicka\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login with invalid email format"
					},
					"response": []
				},
				{
					"name": "TC06 - Unregistered User Email",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// JavaScript assertions",
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"// Assert status code is 400",
									"pm.test('Status code is 400 for unregistered user', function() {",
									"    pm.expect(statusCode).to.equal(400);",
									"});",
									"",
									"// Assert error is present",
									"pm.test('Error property exists in response', function() {",
									"    pm.expect(response).to.have.property('error');",
									"});",
									"",
									"// Assert error message",
									"pm.test('Error indicates user issue', function() {",
									"    pm.expect(response.error).to.be.a('string');",
									"    pm.expect(response.error.length).to.be.greaterThan(0);",
									"});",
									"",
									"// Verify no token",
									"pm.test('Token not present', function() {",
									"    pm.expect(response).to.not.have.property('token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"nonexistent@reqres.in\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login with unregistered user email"
					},
					"response": []
				},
				{
					"name": "TC07 - Empty String Values",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// JavaScript assertions",
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"// Assert status code is 400",
									"pm.test('Status code is 400 for empty strings', function() {",
									"    pm.expect(statusCode).to.equal(400);",
									"});",
									"",
									"// Assert error exists",
									"pm.test('Error message is present', function() {",
									"    pm.expect(response).to.have.property('error');",
									"    pm.expect(response.error).to.be.a('string');",
									"});",
									"",
									"// Verify response structure",
									"pm.test('Response has correct error structure', function() {",
									"    pm.expect(Object.keys(response)).to.include('error');",
									"    pm.expect(response).to.not.have.property('token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"\",\n    \"password\": \"\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login with empty string values"
					},
					"response": []
				},
				{
					"name": "TC08 - Missing API Key (No Authentication)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// JavaScript assertions",
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"// Assert status code is 401 Unauthorized",
									"pm.test('Status code is 401 for missing API key', function() {",
									"    pm.expect(statusCode).to.equal(401);",
									"});",
									"",
									"// Assert error handling",
									"pm.test('API returns appropriate error for missing API key', function() {",
									"    pm.expect(response).to.have.property('error');",
									"    var errorMsg = response.error.toLowerCase();",
									"    pm.expect(errorMsg).to.include('api key');",
									"});",
									"",
									"// Assert no authentication granted",
									"pm.test('No authentication token provided', function() {",
									"    pm.expect(response).to.not.have.property('token');",
									"});",
									"",
									"console.log('ℹ️ This test verifies that API key is required');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"eve.holt@reqres.in\",\n    \"password\": \"cityslicka\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login request WITHOUT API key to test authentication requirement"
					},
					"response": []
				},
				{
					"name": "TC09 - Invalid API Key",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// JavaScript assertions",
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"// Assert error status code",
									"pm.test('Status code indicates unauthorized (401 or 403)', function() {",
									"    pm.expect(statusCode).to.be.oneOf([401, 403]);",
									"});",
									"",
									"// Assert error in response",
									"pm.test('API returns error for invalid API key', function() {",
									"    pm.expect(response).to.have.property('error');",
									"});",
									"",
									"// Assert no token",
									"pm.test('No token in response', function() {",
									"    pm.expect(response).to.not.have.property('token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "invalid-api-key-12345"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"eve.holt@reqres.in\",\n    \"password\": \"cityslicka\"\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login with invalid API key"
					},
					"response": []
				},
				{
					"name": "TC10 - Wrong Data Types",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// JavaScript assertions",
									"var response = pm.response.json();",
									"var statusCode = pm.response.code;",
									"",
									"// Assert error status code",
									"pm.test('Status code indicates error (400)', function() {",
									"    pm.expect(statusCode).to.equal(400);",
									"});",
									"",
									"// Assert error in response",
									"pm.test('API returns error for wrong data types', function() {",
									"    pm.expect(response).to.have.property('error');",
									"});",
									"",
									"// Assert no token",
									"pm.test('No token in response', function() {",
									"    pm.expect(response).to.not.have.property('token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-api-key",
								"value": "reqres-free-v1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": 12345,\n    \"password\": true\n}"
						},
						"url": {
							"raw": "https://reqres.in/api/login",
							"protocol": "https",
							"host": [
								"reqres",
								"in"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login with wrong data types (number and boolean)"
					},
					"response": []
				}
			]
		}
	]
}